(this.webpackJsonpsynsource=this.webpackJsonpsynsource||[]).push([[0],{55:function(e,a,t){e.exports=t(78)},60:function(e,a,t){},61:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(37),c=t(22),o=t.n(c),u=(t(60),t(6)),i=(t(61),t(7)),m=t(80),s=t(83),E=t(81),f=t(86),d=t(27),h=(t(62),t(63),t(64),t(66),t(35)),p=t.n(h),g=d.initializeApp({apiKey:"AIzaSyA8G5s4B7hpbskZ8gh0XFYEhoSGPH69W14",authDomain:"synsource-ad271.firebaseapp.com",databaseURL:"https://synsource-ad271.firebaseio.com",projectId:"synsource-ad271",storageBucket:"synsource-ad271.appspot.com",messagingSenderId:"636804836771",appId:"1:636804836771:web:cd203c4343a7649230fe16",measurementId:"G-V4PG64CPXF"});function v(){var e=Object(n.useState)(),a=Object(i.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(),o=Object(i.a)(c,2),u=o[0],d=o[1],h=Object(n.useState)(),p=Object(i.a)(h,2),v=p[0],b=p[1],O=function(){var e=Object(f.a)();g.database().ref("users/"+e).set({name:v,email:t}).then((function(){console.log("inside database")})).catch((function(e){console.log(e)}))};return l.a.createElement(m.a,null,l.a.createElement(s.a,{onSubmit:function(e){e.preventDefault(),g.auth().createUserWithEmailAndPassword(t,u).then((function(e){O(),console.log("done")})).catch((function(e){console.log(e)}))}},l.a.createElement(s.a.Group,{controlId:"formBasicPassword"},l.a.createElement(s.a.Label,null,"Name"),l.a.createElement(s.a.Control,{type:"text",placeholder:"Enter your name",onChange:function(e){var a=e.target.value;b(a)}})),l.a.createElement(s.a.Group,{controlId:"formBasicEmail"},l.a.createElement(s.a.Label,null,"Email address"),l.a.createElement(s.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){var a=e.target.value;r(a)}}),l.a.createElement(s.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(s.a.Group,{controlId:"formBasicPassword"},l.a.createElement(s.a.Label,null,"Password"),l.a.createElement(s.a.Control,{type:"password",placeholder:"Password",onChange:function(e){var a=e.target.value;d(a)}})),l.a.createElement(E.a,{variant:"primary",type:"submit"},"Sign Up")))}var b=t(87);function O(e){var a=e.image,t=Object(n.useState)(),r=Object(i.a)(t,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){g.auth().onAuthStateChanged((function(e){console.log(e.email),o(e.email)}))})),l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(b.a,{style:{width:"100%"}},l.a.createElement(b.a.Img,{variant:"top",src:a.imageAsUrl}),l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,a.title),l.a.createElement(b.a.Text,null,a.desctription),c===a.userEmail?l.a.createElement(E.a,{variant:"primary",onClick:function(e){e.preventDefault(),g.database().ref("images/"+a.imageId).remove().then((function(){alert("Deleted, refresh")})).catch((function(e){alert(e)}))}},"Delete"):""))))}function y(e){var a=e.images,t=l.a.createElement("p",null,"loading...");return a&&(t=0===a.length?l.a.createElement("p",null,"No images found"):l.a.createElement("div",null,a.map((function(e){return l.a.createElement(O,{image:e,key:e.imageId})})))),l.a.createElement("div",null,t)}var j=t(48);function S(e){var a=e.searchDB,t=Object(n.useState)(),r=Object(i.a)(t,2),c=r[0],o=r[1];return l.a.createElement("div",null,l.a.createElement(s.a,{onSubmit:function(e){e.preventDefault(),a(c)}},l.a.createElement(m.a,null,l.a.createElement(s.a.Row,{className:"align-items-center"},l.a.createElement(j.a,{xs:"auto"},l.a.createElement(s.a.Control,{placeholder:"Search title",onChange:function(e){var a=e.target.value;o(a)}})),l.a.createElement(j.a,null,l.a.createElement(E.a,{type:"submit"},"Search"))))))}function C(){var e=Object(n.useState)(),a=Object(i.a)(e,2),t=a[0],r=a[1];Object(n.useEffect)((function(){g.database().ref().child("images").orderByKey().once("value",(function(e){var a=[];e.forEach((function(e){a.push(e.val())})),r(a)}))}),[]);return l.a.createElement("div",null,l.a.createElement(S,{searchDB:function(e){g.database().ref().child("images").orderByChild("title").equalTo(e).once("value",(function(e){var a=[];e.forEach((function(e){a.push(e.val())})),r(a)}))}}),l.a.createElement(y,{images:t}))}function w(){return l.a.createElement("div",null,l.a.createElement(E.a,{onClick:function(e){var a=new d.auth.GoogleAuthProvider;g.auth().signInWithPopup(a).then((function(e){alert("Google login Success, Can now uploud pics")})).catch((function(e){alert(e.message)}))}},"Sign in with Google"))}function I(){var e=Object(n.useState)(),a=Object(i.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(),o=Object(i.a)(c,2),u=o[0],f=o[1];return l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(s.a,{onSubmit:function(e){e.preventDefault(),g.auth().signInWithEmailAndPassword(t,u).then((function(e){console.log("done")})).catch((function(e){console.log(e)}))}},l.a.createElement(s.a.Group,{controlId:"formBasicEmail"},l.a.createElement(s.a.Label,null,"Email address"),l.a.createElement(s.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){var a=e.target.value;r(a)}})),l.a.createElement(s.a.Group,{controlId:"formBasicPassword"},l.a.createElement(s.a.Label,null,"Password"),l.a.createElement(s.a.Control,{type:"password",placeholder:"Password",onChange:function(e){var a=e.target.value;f(a)}})),l.a.createElement(E.a,{variant:"primary",type:"submit"},"Login"))),l.a.createElement(m.a,null,l.a.createElement("p",null,"Or")),l.a.createElement(m.a,null,l.a.createElement(w,null)))}function G(){return l.a.createElement("div",null,"page not found!")}var P=t(84),x=t(82),B=t(85);function L(){var e=Object(n.useState)(),a=Object(i.a)(e,2),t=a[0],r=a[1];Object(n.useEffect)((function(){g.auth().onAuthStateChanged((function(e){r(e)}))}));return l.a.createElement(P.a,{bg:"light",expand:"lg"},l.a.createElement(P.a.Brand,{href:"/"},l.a.createElement(x.a,{src:"/logo.png",width:50,height:50})),l.a.createElement(B.a,{className:"mr-auto"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement(B.a.Link,{href:"/signin",onClick:function(e){g.auth().signOut().then((function(){r(null)}))}},"Log Out"),l.a.createElement(B.a.Link,{href:"/uploud"},"Uploud Image")):l.a.createElement(l.a.Fragment,null,l.a.createElement(B.a.Link,{href:"/register"},"Create Account"),l.a.createElement(B.a.Link,{href:"/signin"},"Login"))))}function k(){return l.a.createElement("div",null,"logout")}function A(){var e=Object(n.useState)(),a=Object(i.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(),o=Object(i.a)(c,2),u=(o[0],o[1]),d=Object(n.useState)(),h=Object(i.a)(d,2),v=h[0],b=h[1],O=Object(n.useState)(),y=Object(i.a)(O,2),j=y[0],S=y[1],C=function(e){var a=Object(f.a)(),t=p.a.auth().currentUser.email;g.database().ref("images/"+a).set({userEmail:t,imageId:a,imageAsUrl:e,title:v,description:j}).then((function(){alert("Uploud Success")})).catch((function(e){alert(e)}))};return l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(s.a,{onSubmit:function(e){e.preventDefault();var a=g.storage();a.ref("/images/".concat(t.name)).put(t).then((function(e){a.ref("images").child(t.name).getDownloadURL().then((function(e){u(e),C(e)}))})).catch((function(e){}))}},l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Control,{type:"text",placeholder:"Enter the image title",onChange:function(e){var a=e.target.value;b(a)}})),l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Control,{type:"text",placeholder:"Enter the image description",onChange:function(e){var a=e.target.value;S(a)}})),l.a.createElement(s.a.File,{id:"custom-file",label:"Pick an image",custom:!0,onChange:function(e){var a=e.target.files[0];r(a)}}),l.a.createElement(s.a.Group,null,l.a.createElement(E.a,{variant:"secondary",type:"submit"},"Upload")))))}var D=function(){return l.a.createElement("main",null,l.a.createElement(L,null),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/",component:C}),l.a.createElement(u.a,{exact:!0,path:"/register",component:v}),l.a.createElement(u.a,{exact:!0,path:"/signin",component:I}),l.a.createElement(u.a,{exact:!0,path:"/signout",component:k}),l.a.createElement(u.a,{exact:!0,path:"/uploud",component:A}),l.a.createElement(u.a,{component:G})))};t(77);o.a.render(l.a.createElement(r.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(D,null))),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.816b5e6c.chunk.js.map